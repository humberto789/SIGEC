<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

	<h:head>
		<title>SIGEC - AGENDA MÉDICA</title>
		<link rel="stylesheet" href="../css/agenda_medica.css"/>
		<meta charset="utf-8"/>
    	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	</h:head> 
	<h:body>
		<div id="menu-lateral">
			<img src="../img/logo_site.png" id="logo"></img>
			
			<nav class="menu">
				<h:form>
					<ul>
						<li><h:link value = "MEU PERFIL" outcome = "home_medico" class="link"/></li>
						<li><h:link value = "MINHA AGENDA" outcome = "agenda_medica" class="link"/></li>
						<li><h:link value = "CADASTRAR PRONTUARIO" outcome = "cadastrar_prontuario" class="link"/></li>
						<li><h:link value = "EMITIR_ATESTADO" outcome = "emitir_atestado" class="link"/></li>
						<li><h:commandLink value = "CHAMAR PACIENTE" action="#{chamarPacienteMB.chamarPaciente}" class="link"/></li>
						<li><h:commandLink value = "SAIR" action="#{usuarioLogadoMBean.deslogar}" class="link"/></li>
					</ul>
				</h:form>
			</nav>
		</div>
		
		<main id="conteudo-principal">
			<h1 id="titulo">AGENDA MÉDICA</h1>
			<div id="container-data">
				Data e hora atual: <p:clock pattern="dd/MM HH:mm"/>
			</div>
			
			<div id="container-agenda">
				<p:schedule locale="pt_BR" id="schedule" widgetVar="schedule" value="#{agendaMedica.eventModel}" view="basicWeek" >
					<p:ajax event="eventSelect" listener="#{agendaMedica.eventoSelecionado}" update="eventDetails" oncomplete="PF('janela').show();" />  
       				<p:ajax event="eventMove" listener="#{agendaMedica.eventoMovido}" />  
				</p:schedule>
				
				<p:dialog widgetVar="janela" header="Detalhe da consulta" showEffect="clip" hideEffect="clip">
			        <h:panelGrid id="eventDetails" columns="2">
			            <p:outputLabel for="title" value="Titles:" />
			            <p:inputText id="title" value="Opa" required="true" />
			 
			            <p:commandButton type="reset" value="Reset" />
			            <p:commandButton id="addButton" value="Save" oncomplete="PF('schedule').update();PF('dialogo').hide();" />
			        </h:panelGrid>
    			</p:dialog>    
			</div>			
		</main>
		
		<script>
			PrimeFaces.locales['pt_BR'] = {
	                closeText: 'Fechar',
	                prevText: 'Anterior',
	                nextText: 'Próximo',
	                currentText: 'Começo',
	                monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
	                monthNamesShort: ['Jan','Fev','Mar','Abr','Mai','Jun', 'Jul','Ago','Set','Out','Nov','Dez'],
	                dayNames: ['Domingo','Segunda','Terça','Quarta','Quinta','Sexta','Sábado'],
	                dayNamesShort: ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'],
	                dayNamesMin: ['D','S','T','Q','Q','S','S'],
	                weekHeader: 'Semana',
	                firstDay: 1,
	                isRTL: false,
	                showMonthAfterYear: false,
	                yearSuffix: '',
	                timeOnlyTitle: 'Só Horas',
	                timeText: 'Tempo',
	                hourText: 'Hora',
	                minuteText: 'Minuto',
	                secondText: 'Segundo',
	                currentText: 'Data Atual',
	                ampm: false,
	                month: 'Mês',
	                week: 'Semana',
	                day: 'Dia',
	                allDayText : 'Todo Dia'
	            };
		</script>
	</h:body>
</html>
